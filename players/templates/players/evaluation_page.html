{% extends 'base.html' %}
{% block nav %}
    {% include 'players/navbar.html' %}
{% endblock %}
{% block title %}
{% endblock %}
{% block content %}
    {% load player_tags %}
    {% with 0 as rating_value %}
        {% for category in categories_list %}
            {{ category.name }}
            <br>
            {% for skill in category.skills_set.all %}
                {{ skill.id }} <!--put a hidden filed-->
                {{ skill.skill_name }}
                {% if  not skill.playerskills_set.all|player_filter:p_id %}
                    {{ rating_value }}
                    {% comment %}
                        <!--change loop with customized filter-->
                        {% if p_skill.player.id == p_id %}
                            {{ p_skill.value  }}
                        {% endif %}
                    {% endfor %}
                    {% endcomment %}
                {% else %}
                    {% for p_skill in skill.playerskills_set.all|player_filter:p_id %}
                        {{ p_skill.value }}
                    {% endfor %}
                {% endif %}
                <br>
            {% endfor %}
        {% endfor %}
    {% endwith %}
{% endblock %}